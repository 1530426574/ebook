<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.0.8 (451398)"/><meta name="author" content="winebag"/><meta name="created" content="2016-01-30 06:32:37 +0000"/><meta name="updated" content="2016-01-30 06:46:11 +0000"/><title>vimrc</title></head><body>
<div>source $VIMRUNTIME/vimrc_example.vim<br clear="none"/>
"source $VIMRUNTIME/mswin.vim<br clear="none"/>
"behave mswin<br clear="none"/>
set rtp+=$VIM/vimfiles/bundle/vundle/<br clear="none"/>
call vundle#rc('$VIM/vimfiles/bundle/')<br clear="none"/>
<br clear="none"/>
Bundle 'gmarik/vundle'<br clear="none"/>
Plugin 'jiangmiao/auto-pairs'<br clear="none"/>
Plugin 'kien/ctrlp.vim'<br clear="none"/>
Bundle 'fatih/vim-go'<br clear="none"/>
Bundle 'easymotion/vim-easymotion'<br clear="none"/>
Bundle 'scrooloose/nerdtree'<br clear="none"/>
<br clear="none"/>
set diffexpr=MyDiff()<br clear="none"/>
function MyDiff()<br clear="none"/>
let opt = '-a --binary '<br clear="none"/>
if &amp;diffopt =~ 'icase' | let opt = opt . '-i ' | endif<br clear="none"/>
if &amp;diffopt =~ 'iwhite' | let opt = opt . '-b ' | endif<br clear="none"/>
let arg1 = v:fname_in<br clear="none"/>
if arg1 =~ ' ' | let arg1 = '"' . arg1 . '"' | endif<br clear="none"/>
let arg2 = v:fname_new<br clear="none"/>
if arg2 =~ ' ' | let arg2 = '"' . arg2 . '"' | endif<br clear="none"/>
let arg3 = v:fname_out<br clear="none"/>
if arg3 =~ ' ' | let arg3 = '"' . arg3 . '"' | endif<br clear="none"/>
let eq = ''<br clear="none"/>
if $VIMRUNTIME =~ ' '<br clear="none"/>
if &amp;sh =~ '\&lt;cmd'<br clear="none"/>
let cmd = '""' . $VIMRUNTIME . '\diff"'<br clear="none"/>
let eq = '"'<br clear="none"/>
else<br clear="none"/>
let cmd = substitute($VIMRUNTIME, ' ', '" ', '') . '\diff"'<br clear="none"/>
<br clear="none"/>
endif<br clear="none"/>
else<br clear="none"/>
let cmd = $VIMRUNTIME . '\diff'<br clear="none"/>
endif<br clear="none"/>
silent execute '!' . cmd . ' ' . opt . arg1 . ' ' . arg2 . ' &gt; ' . arg3 . eq<br clear="none"/>
endfunction<br clear="none"/>
<br clear="none"/>
set nocompatible "不兼容VI<br clear="none"/>
set noswapfile "关闭swap文件<br clear="none"/>
set nobackup "关闭文件备份<br clear="none"/>
set nu "显示行号<br clear="none"/>
syntax on "打开关键字色<br clear="none"/>
set vb t_vb= "去掉闪屏和报警声音<br clear="none"/>
filetype off "侦测文件类型<br clear="none"/>
filetype indent on "为特定文件类型载入相关缩进文件<br clear="none"/>
filetype plugin on "载入文件类型插件<br clear="none"/>
colorscheme desert "色彩主题<br clear="none"/>
set autoread " 自动重新加载外部修改内容<br clear="none"/>
set lines=999 columns=999<br clear="none"/>
"设置为英文版本<br clear="none"/>
let $LANG = 'en'<br clear="none"/>
set langmenu =none<br clear="none"/>
<br clear="none"/>
" &lt; 编码配置 &gt;<br clear="none"/>
" 注：使用utf-8格式后，软件与程序源码、文件路径不能有中文，否则报错<br clear="none"/>
set encoding=utf-8 "设置gvim内部编码<br clear="none"/>
set fileencoding=utf-8 "设置当前文件编码<br clear="none"/>
set fileencodings=ucs-bom,utf-8,gbk,cp936,latin-1 "设置支持打开的文件的编码<br clear="none"/>
<br clear="none"/>
" 文件格式，默认 ffs=dos,unix<br clear="none"/>
set fileformat=unix "设置新文件的&lt;EOL&gt;格式<br clear="none"/>
set fileformats=unix,dos,mac "给出文件的&lt;EOL&gt;格式类型<br clear="none"/>
<br clear="none"/>
" Vim-go<br clear="none"/>
let g:go_fmt_command = "goimports"<br clear="none"/>
let g:go_highlight_functions = 1<br clear="none"/>
let g:go_highlight_methods = 1<br clear="none"/>
let g:go_highlight_structs = 1<br clear="none"/>
let g:go_highlight_operators = 1<br clear="none"/>
let g:go_highlight_build_constraints = 1<br clear="none"/>
<br clear="none"/>
"ctrlp<br clear="none"/>
let g:ctrlp_use_caching = 1<br clear="none"/>
let g:ctrlp_working_path_mode = 0<br clear="none"/>
let g:ctrlp_custom_ignore = {<br clear="none"/>
\ 'dir': '\v[\/](([^\/]+\/)*node_modules|([^\/]+\/)*jspm_packages|([^\/]+\/)*bower_components|([^\/]+\/)*vendor/bundle|([^\/]+\/)*tmp/cache/assets)$|_site'<br clear="none"/>
\ }<br clear="none"/>
"quickfix 按F6或F7切换结果<br clear="none"/>
nmap &lt;F6&gt; :cp&lt;cr&gt;<br clear="none"/>
nmap &lt;F7&gt; :cn&lt;cr&gt;<br clear="none"/>
<br clear="none"/>
"NERDTree配置<br clear="none"/>
map &lt;F10&gt; :NERDTreeToggle&lt;CR&gt;<br clear="none"/>
map &lt;C-F10&gt; :NERDTreeFind&lt;CR&gt;<br clear="none"/>
let NERDTreeChDirMode=2 "选中root即设置为当前目录<br clear="none"/>
"let NERDTreeQuitOnOpen=1 "打开文件时关闭树<br clear="none"/>
let NERDTreeShowBookmarks=1 "显示书签<br clear="none"/>
let NERDTreeMinimalUI=1 "不显示帮助面板<br clear="none"/>
let NERDTreeDirArrows=1 "目录箭头 1 显示箭头 0传统+-|号<br clear="none"/>
<br clear="none"/>
au FileType go nmap &lt;leader&gt;b &lt;Plug&gt;(go-build)<br clear="none"/>
nmap ;ll :NERDTreeToggle E:\work\php\serverr&lt;CR&gt;<br clear="none"/>
nmap ;lw :NERDTree E:\work\php\server&lt;CR&gt;<br clear="none"/>
nmap ;ls :NERDTree E:\work\php\server&lt;CR&gt;<br clear="none"/>
nmap ;lm :NERDTree E:\work\php\server&lt;CR&gt;<br clear="none"/>
nmap ;li :NERDTree E:\work\php\server&lt;CR&gt;<br clear="none"/>
nmap ;ln :NERDTreeMirror&lt;CR&gt;<br clear="none"/>
<br clear="none"/>
"映射Easymotion快捷键为:空格+w/b<br clear="none"/>
let g:EasyMotion_leader_key='&lt;Space&gt;'<br clear="none"/>
<br clear="none"/>
" 重启后撤销历史可用 persistent undo<br clear="none"/>
set undofile<br clear="none"/>
set undodir=$VIM/vimfiles/\_undodir<br clear="none"/>
set undolevels=1000 "maximum number of changes that can be undone<br clear="none"/>
let g:go_snippet_engine = "neosnippet" "默认代码补全引擎是 Ultisnips，修改为 neosnippet<br clear="none"/>
let colors_name = "darkblue_my"<br clear="none"/>
<br clear="none"/>
highlight Pmenu ctermbg=DarkGray "guibg=LightGray<br clear="none"/>
<br clear="none"/>
highlight PmenuSel ctermbg=4 "guibg=DarkGray guifg=White<br clear="none"/>
<br clear="none"/>
"highlight PmenuSbar ctermbg=Blue "guibg=DarkBlue<br clear="none"/>
<br clear="none"/>
"highlight PmenuThumb ctermbg=Yellow "guibg=Black</div>
<div><br/></div>
<div><br/></div>
<div>"将键盘上的F4功能键映射为添加作者信息的快捷键</div>
<div>map &lt;F4&gt; ms:call AddAuthor()&lt;cr&gt;'s</div>
<div>function AddTitle()</div>
<div>call append(0,"/**********************************************************")</div>
<div>call append(1," * Author : Michael")</div>
<div>call append(2," * Email : dolotech@163.com")</div>
<div>call append(3," * Last modified : ".strftime("%Y-%m-%d %H:%M"))</div>
<div>call append(4," * Filename : ".expand("%:t"))</div>
<div>call append(5," * Description : ")</div>
<div>call append(6," * *******************************************************/")</div>
<div>echohl WarningMsg | echo "Successful in adding the copyright." | echohl None</div>
<div>endfunction</div>
<div>function AddAuthor()</div>
<div>let n=1</div>
<div>while n &lt; 5</div>
<div>let line = getline(n)</div>
<div>if line =~'^\s*\*\s*\S*Last\s*modified\s*:\s*\S*.*$'</div>
<div>call UpdateTitle()</div>
<div>return</div>
<div>endif</div>
<div>let n = n + 1</div>
<div>endwhile</div>
<div>call AddTitle()</div>
<div>endfunction</div>
<div>function UpdateTitle()</div>
<div>normal m'</div>
<div>execute '/* Last modified\s*:/s@:.*$@\=strftime(": %Y-%m-%d %H:%M")@'</div>
<div>normal "</div>
<div>normal mk</div>
<div>execute '/* Filename\s*:/s@:.*$@\=": ".expand("%:t")@'</div>
<div>execute "noh"</div>
<div>normal 'k</div>
<div>echohl WarningMsg | echo "Successful in updating the copy right." | echohl None</div>
<div>endfunction</div>
</body></html>